# Plan Context Document

> **Purpose:** Aggregates Architect Agent outputs for `/speckit.plan`
> **Created by:** Architect Agent
> **Used by:** `/speckit.plan` command

---

## How to Use

1. **Complete Architecture Phase** with Architect Agent
2. **Fill this template** with ADR and arc42 decisions
3. **Copy-paste the Prompt Section** into `/speckit.plan`
4. **Attach ADRs and arc42** as context in your AI assistant

---

## ğŸ“‹ Prompt for /speckit.plan

Copy everything between the markers below:

<!-- PLAN PROMPT START -->

### Technical Stack

**Backend:**
- Language: {aus ADR-XXX: z.B. "Python 3.11+"}
- Framework: {aus ADR-XXX: z.B. "FastAPI"}
- Database: {aus ADR-XXX: z.B. "PostgreSQL 15"}
- ORM/Data Access: {aus ADR-XXX: z.B. "SQLAlchemy 2.0"}

**Frontend:** {falls applicable}
- Framework: {aus ADR-XXX: z.B. "React 18 with TypeScript"}
- State Management: {aus ADR-XXX: z.B. "Zustand"}
- UI Library: {aus ADR-XXX: z.B. "shadcn/ui"}

**Infrastructure:**
- Cloud Provider: {aus ADR-XXX: z.B. "Azure"}
- Deployment: {aus ADR-XXX: z.B. "Azure Container Apps"}
- CI/CD: {aus ADR-XXX: z.B. "GitHub Actions"}

**API & Integration:**
- API Style: {aus ADR-XXX: z.B. "REST with OpenAPI 3.1"}
- Authentication: {aus ADR-XXX: z.B. "OAuth 2.0 with Azure AD"}
- Message Queue: {falls applicable, aus ADR-XXX}

### Architecture Style

{aus arc42 Section 4 - Solution Strategy}
- Architecture Pattern: {z.B. "Modular Monolith" / "Microservices" / "Serverless"}
- Key Quality Goals: {Top 3 aus arc42 Section 1.2}
  1. {Quality Goal 1}
  2. {Quality Goal 2}
  3. {Quality Goal 3}

### Key Architecture Decisions

{Zusammenfassung der wichtigsten 3-5 ADRs}

1. **{ADR-001 Title}:** {Decision in einem Satz}
   - Rationale: {Kurze BegrÃ¼ndung}

2. **{ADR-002 Title}:** {Decision in einem Satz}
   - Rationale: {Kurze BegrÃ¼ndung}

3. **{ADR-003 Title}:** {Decision in einem Satz}
   - Rationale: {Kurze BegrÃ¼ndung}

### Data Model (Core Entities)

{aus arc42 Section 8 - Crosscutting Concepts}

```
{Entity 1}
â”œâ”€â”€ {attribute 1}: {type}
â”œâ”€â”€ {attribute 2}: {type}
â””â”€â”€ relations: [{related entities}]

{Entity 2}
â”œâ”€â”€ {attribute 1}: {type}
â””â”€â”€ relations: [{related entities}]
```

### External Integrations

{aus arc42 Section 3 - Context & Scope}

| System | Integration Type | Protocol | Purpose |
|--------|-----------------|----------|---------|
| {System 1} | {Inbound/Outbound/Both} | {REST/Events/etc.} | {Purpose} |
| {System 2} | {Inbound/Outbound/Both} | {REST/Events/etc.} | {Purpose} |

### Performance & Scalability Requirements

{aus RE NFRs - jetzt mit Technologie-Details}

- Response Time: {z.B. "< 200ms for 95th percentile, achieved via Redis caching"}
- Throughput: {z.B. "100 req/sec sustained, 500 req/sec peak"}
- Concurrent Users: {z.B. "1,000 concurrent, auto-scaling to 10,000"}
- Data Volume: {z.B. "Initial 10GB, growth 5GB/month, PostgreSQL partitioning planned"}

### Security Architecture

{aus ADRs + arc42 Section 8}

- Authentication: {z.B. "OAuth 2.0 via Azure AD B2C"}
- Authorization: {z.B. "RBAC with 3 roles: Admin, User, Guest"}
- Encryption: {z.B. "TLS 1.3 in transit, AES-256 at rest"}
- Compliance: {z.B. "GDPR Article 17 (Right to Erasure) implemented via soft delete"}

<!-- PLAN PROMPT END -->

---

## ğŸ“ Source Documents to Attach

When running `/speckit.plan`, attach these documents as context:

### Required Context

```
Attach these files to your AI assistant before running /speckit.plan:

1. architecture/adr/ADR-*.md (all ADRs)
2. docs/ARC42-DOCUMENTATION.md (or relevant sections)
3. specs/{feature}/spec.md (generated by /speckit.specify)
```

### Document Mapping to Spec Kit Outputs

| Your Document | â†’ | Spec Kit Output |
|---------------|---|-----------------|
| ADRs | â†’ | research.md |
| arc42 Section 8 (Data Model) | â†’ | data-model.md |
| arc42 Section 6 (Runtime View) | â†’ | contracts/ |
| Tech Stack Summary | â†’ | plan.md |
| ISSUE-*.md | â†’ | tasks.md (or replace) |

---

## ğŸ”„ ADR Summary Table

Fill in from your ADR documents:

| ADR ID | Title | Status | Decision | Impact on Plan |
|--------|-------|--------|----------|----------------|
| ADR-001 | {Title} | Accepted | {Decision} | {High/Medium/Low} |
| ADR-002 | {Title} | Accepted | {Decision} | {High/Medium/Low} |
| ADR-003 | {Title} | Accepted | {Decision} | {High/Medium/Low} |
| ADR-004 | {Title} | Accepted | {Decision} | {High/Medium/Low} |
| ADR-005 | {Title} | Accepted | {Decision} | {High/Medium/Low} |

---

## âœ… Pre-Plan Checklist

Before using this document with `/speckit.plan`, verify:

### Architecture Completeness
- [ ] All critical ADRs documented (tech stack, data, security)
- [ ] arc42 Section 4 (Solution Strategy) complete
- [ ] arc42 Section 5 (Building Blocks) has at least Level 1
- [ ] Data model defined with core entities
- [ ] External integrations identified

### Quality Attributes Addressed
- [ ] Performance requirements have technical solutions
- [ ] Security architecture defined
- [ ] Scalability approach documented
- [ ] Availability/DR strategy noted

### Consistency Check
- [ ] ADR decisions align with NFRs from RE phase
- [ ] Tech stack supports all required integrations
- [ ] No conflicting decisions between ADRs

---

## ğŸ”€ Alternative: Skip /speckit.tasks

Your Architect Agent already creates atomic ISSUEs (1-3 days).
These are often **better** than Spec Kit's generated tasks.

**Option A: Use Spec Kit tasks**
```
/speckit.plan [this prompt]
/speckit.tasks
/speckit.implement
```

**Option B: Use your ISSUEs (Recommended)**
```
/speckit.plan [this prompt]
# Skip /speckit.tasks
# Use ISSUE-*.md with Developer Agent
```

If using Option B, your ISSUE structure already contains:
- âœ… Atomic scope (1-3 days)
- âœ… ADR references
- âœ… Acceptance criteria
- âœ… Testing requirements
- âœ… Developer guidance

---

## ğŸ“ Template Variables

Replace these placeholders:

| Variable | Source | Example |
|----------|--------|---------|
| `{ADR-XXX}` | ADR document ID | "ADR-003" |
| `{Entity X}` | Data model entities | "User", "Order" |
| `{System X}` | External systems | "Salesforce", "Payment Gateway" |

---

## ğŸ”— Integration with Spec Kit

This document maps to Spec Kit's plan-template.md:

| This Template Section | â†’ | Spec Kit plan.md Section |
|-----------------------|---|--------------------------|
| Technical Stack | â†’ | Tech Stack |
| Architecture Style | â†’ | Architecture Overview |
| Key Decisions | â†’ | (feeds into research.md) |
| Data Model | â†’ | data-model.md |
| External Integrations | â†’ | Integration Points |
| Performance Reqs | â†’ | NFR Implementation |
| Security Architecture | â†’ | Security Section |

---

## ğŸ“Š Expected Spec Kit Outputs

After `/speckit.plan`, you should see:

```
specs/{feature}/
â”œâ”€â”€ spec.md          # From /speckit.specify (unchanged)
â”œâ”€â”€ plan.md          # NEW: Implementation plan
â”œâ”€â”€ research.md      # NEW: Tech research (validates your ADRs)
â”œâ”€â”€ data-model.md    # NEW: Data model (should match your arc42)
â”œâ”€â”€ quickstart.md    # NEW: Validation scenarios
â””â”€â”€ contracts/       # NEW: API specs
    â”œâ”€â”€ api-spec.json
    â””â”€â”€ [other contracts]
```

**Validation:** Compare Spec Kit outputs with your architecture:
- research.md should align with ADR rationales
- data-model.md should match arc42 Section 8
- contracts/ should match arc42 Section 6

---

**Version:** 1.0
**Compatible with:** Spec Kit v0.0.90+
**Last Updated:** {DATE}